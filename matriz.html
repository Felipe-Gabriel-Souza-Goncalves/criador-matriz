<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matrizes</title>

    <link rel="shortcut icon" href="img/favicon.svg" type="image/x-icon" />

    <link rel="stylesheet" href="css/geral.css" />
    <link rel="stylesheet" href="css/matriz.css" />
    <link rel="stylesheet" href="css/regras.css" />
    <link rel="stylesheet" href="css/atalhos.css" />
    <link rel="stylesheet" href="css/aside.css" />
    <link rel="stylesheet" href="css/abas.css" />
  </head>
  <body>
    <header>
      <button onclick="toggleAside()">&equiv;</button>
      <h1>Matrizes (BETA)</h1>
    </header>

    <aside>
      <div id="bg-aside"></div>
      <button onclick="toggleAside()" id="btn-fechar-aside">X</button>
      <h1>Configurações</h1>
      <span id="spanAlteracoes">Alterações não salvas!</span>
      <br /><hr />

      <div id="container-configuracoes">

        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <p>Valor padrão:
            <input oninput="liberarSalvarConfig('inputValorPadrao', 0)" id="inputValorPadrao" type="number" value="1" style="width: 50px" />
          </p>
          <img
            onclick="alterarConfig('valorPadrao', document.getElementById('inputValorPadrao').value)"
            src="img/icon/save-icon.png" width="24" alt="salvar"
          />
        </div>


        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <p>Cor padrão:
            <input oninput="liberarSalvarConfig('inputCorPadrao', 1)" id="inputCorPadrao" type="color" value="#efefef" />
          </p>
          <img
            onclick="alterarConfig('corPadrao', document.getElementById('inputCorPadrao').value)"
            src="img/icon/save-icon.png" width="24" alt="salvar"
          />
        </div>

        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <p>Animação ligada:
            <input oninput="liberarSalvarConfig('inputAnimacaoAtiva', 2)" id="inputAnimacaoAtiva" type="checkbox" checked/>
          </p>
          <img
            onclick="alterarConfig('animacaoAtiva', document.getElementById('inputAnimacaoAtiva').checked)"
            src="img/icon/save-icon.png" width="24" alt="salvar"
          />
        </div>

        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <p>Intervalo de animação:
            <span id="intervaloAnimacaoSpan">0.5s</span>

            <input id="inputIntervaloAnimacao" type="range" min="0.1" max="2" step="0.1" value="0.5" style="width: 70%;"
            oninput="
              liberarSalvarConfig('inputIntervaloAnimacao', 3);
              atualizarSpanConfig('intervaloAnimacaoSpan', 'inputIntervaloAnimacao', '', 's')"/>
          </p>
          <img
            onclick="alterarConfig('intervaloAnimacao', document.getElementById('inputIntervaloAnimacao').value)"
            src="img/icon/save-icon.png" width="24" alt="salvar"
          />
        </div>

        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <p>Cor da animação:
            <input oninput="liberarSalvarConfig('inputCorAnimacao', 4)" id="inputCorAnimacao" type="color" value="#cecece"/>
          </p>
          <img
            onclick="alterarConfig('animacaoCor', document.getElementById('inputCorAnimacao').value, alterarCorAnimacao)"
            src="img/icon/save-icon.png" width="24" alt="salvar"
          />
        </div>


        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <button onclick="toggleAtalhos()">Ver atalhos</button>
        </div>


        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <button onclick="apagarMatrizes()">Excluir minhas matrizes</button>
        </div>


        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <button onclick="configPadrao()">Voltar para Configurações padrão</button>
        </div>

        <hr /><br />

        <span>&nbsp;&nbsp;&nbsp; EM DESENVOLVIMENTO &nbsp;&nbsp;&nbsp;</span>

        <!-- Item configuração -->
        <div tabindex="0" class="item-configuracao">
          <button id="btn-exportar" onclick="exportarMatrizes()">Exportar matrizes</button>
          <button id="btn-importar" onclick="document.getElementById('input-importar').click()">Importar matrizes</button>
          <input style="display: none;" type="file" id="input-importar" accept="application/json" onchange="importarMatrizes()">
        </div>
      </div>
    </aside>

    <nav>
      <button onclick="abrirSecao('minhas', ['container-criacao-matrizes'])">
        Minhas matrizes
      </button>
      <button onclick="abrirSecao('regras', ['container-criacao-matrizes'])">
        Regras
      </button>
      <button onclick="abrirSecao('aleatorio', ['container-criacao-matrizes'])">
        Aleatório
      </button>
      <button onclick="abrirSecao('soma')">Soma</button>
      <button onclick="abrirSecao('subtracao')">Subtração</button>
      <button onclick="abrirSecao('multiplicacao')">Multiplicação</button>
      <button onclick="abrirSecao('determinante')">Determinantes</button>
    </nav>

    <main>
      <div id="container-criacao-matrizes">
        <label for="linhas">Linhas:</label>
        <input type="number" id="linhas" min="0" max="20" placeholder="Linhas (i)" />

        <label for="colunas">Colunas:</label>
        <input type="number" id="colunas" min="0" max="20" placeholder="Colunas (j)" />
        <br /><br />

        <button onclick="abrirSecao('personalizado', ['container-criacao-matrizes', ['grid', 'grid']]); criarMatrizLayout()">Criar Personalizado</button>
        <button onclick="salvarMatriz()">Salvar matriz</button>
      </div>

      <br />
      <div id="container-regras-matrizes" class="container-abas">
        <h2>Regras</h2>
        <p>
          <button onclick="criarInputRegra()">Adicionar regra</button>
          <button onclick="limparTodasRegras()">Limpar regras</button>
          <br />
          <button onclick="gerarMatrizComRegra()">Gerar matriz</button>
        </p>

        <div id="container-regras">
          <div class="conjunto-regras">
            <input
              type="text"
              class="regra-condicao"
              onfocus="isCondicao = true; inputRegra = 0"
              placeholder="Ex: i>j"
            />
            <input
              type="text"
              class="regra-resultado"
              onfocus="isCondicao = false; inputRegra = 0"
              placeholder="Ex: 2×i + 3"
            />
            <input
              type="color"
              class="regra-cor"
              onclick="inputRegra = 0"
              onchange="regras[inputRegra][2] = cor[inputRegra].value"
              value="#efefef"
            />
          </div>
        </div>
      </div>

      <div id="container-abas">
        <div id="container-minhas-matrizes" class="container-abas">
          <h2>Minhas matrizes</h2>
        </div>

        <div id="container-personalizado-matrizes" class="container-abas">
          <h2>Matriz personalizada</h2>
          <p>Insira o número de linhas/colunas e insira manualmente</p>
          <button id="salvar-personalizado" onclick="salvarMatriz()">Salvar</button>
        </div>

        <div id="container-aleatorio-matrizes" class="container-abas">
          <h2>Matriz aleatória</h2>
          <input type="number" id="aleatorio-valor-minimo" placeholder="Valor mínimo" />
          <input type="number" id="aleatorio-valor-maximo" placeholder="Valor máximo" />
          <button onclick="gerarMatrizAleatoria()">Gerar</button>
        </div>

        <!-- Soma -->
        <div id="container-soma-matrizes" class="container-abas">
          <h2>Soma</h2>

          <span>*Precisa ter ao menos 1 matriz salva</span>
          <hr />
          <div id="soma-matrizes" class="container-carregar-matrizes">
            <div>
              <div id="soma-matriz1" class="campo-carregar-matriz"></div>
              <button class="btn-escolher-matriz" onclick="carregarMatrizesSalvas(true, 'soma-matriz1')">
                Escolher matriz
              </button>
            </div>
            <div>
              <div id="soma-matriz2" class="campo-carregar-matriz"></div>
              <button class="btn-escolher-matriz" onclick="carregarMatrizesSalvas(true, 'soma-matriz2')">
                Escolher matriz
              </button>
            </div>

            <!-- RESULTADO -->
            <div id="resultado-soma-matriz"></div>
          </div>
          <button class="botao-operacao" onclick="operacaoMatrizes('soma')">Somar</button>
        </div>

        <!-- Subtração -->
        <div id="container-subtracao-matrizes" class="container-abas">
          <h2>Subtração</h2>
          <span>*Precisa ter ao menos 1 matriz salva</span>
          <hr />
          <div id="subtracao-matrizes" class="container-carregar-matrizes">
            <div>
              <div id="subtracao-matriz1" class="campo-carregar-matriz"></div>
              <button class="btn-escolher-matriz" onclick="carregarMatrizesSalvas(true, 'subtracao-matriz1')">
                Escolher matriz
              </button>
            </div>
            <div>
              <div id="subtracao-matriz2" class="campo-carregar-matriz"></div>
              <button class="btn-escolher-matriz" onclick="carregarMatrizesSalvas(true, 'subtracao-matriz2')">
                Escolher matriz
              </button>
            </div>

            <!-- RESULTADO -->
            <div id="resultado-subtracao-matriz"></div>
          </div>
          <button class="botao-operacao" onclick="operacaoMatrizes('subtracao')">Subtrair</button>
        </div>

        <!-- Multiplicação -->
        <div id="container-multiplicacao-matrizes" class="container-abas">
          <h2>Multiplicação</h2>

          <span>*Precisa ter ao menos 1 matriz salva</span><br />
          <span
            >*O número de linhas da matriz 1 deve ser igual ao número de colunas da matriz 2</span
          >
          <hr />
          <div id="multiplicacao-matrizes" class="container-carregar-matrizes">
            <div>
              <div id="multiplicacao-matriz1" class="campo-carregar-matriz"></div>
              <button class="btn-escolher-matriz" onclick="carregarMatrizesSalvas(true, 'multiplicacao-matriz1')">
                Escolher matriz
              </button>
            </div>
            <div>
              <div id="multiplicacao-matriz2" class="campo-carregar-matriz"></div>
              <button class="btn-escolher-matriz" onclick="carregarMatrizesSalvas(true, 'multiplicacao-matriz2')">
                Escolher matriz
              </button>
            </div>

            <!-- RESULTADO -->
            <div id="resultado-multiplicacao-matriz"></div>
          </div>
          <button class="botao-operacao" onclick="carregarMultiplicacao()">Multiplicar</button>
        </div>

        <!-- Determinantes -->
        <div id="container-determinante-matrizes" class="container-abas">
          <h2>Determinantes</h2>

          <span>*Deve ter apenas 1 matriz</span><br />
          <span>*Deve ser uma matriz com número de linhas e colunas igual</span><br />
          <hr />
          <div id="determinante-matrizes" class="container-carregar-matrizes">
            <div>
              <div id="determinante-matriz1" class="campo-carregar-matriz"></div>
              <button class="btn-escolher-matriz" onclick="carregarMatrizesSalvas(true, 'determinante-matriz1')">
                Escolher matriz
              </button>
            </div>

            <!-- RESULTADO -->
            <div id="resultado-determinante-matriz">
              <p>Determinante: </p>
              <p>DP (Diagonal principal): </p>
              <p>DS (Diagonal secundária): </p>
            </div>
          </div>
          <button
            class="botao-operacao"
            onclick="carregarDeterminante()"
          >
            Encontrar determinante
          </button>
        </div>
      </div>

      <div id="grid"></div>

      <div id="teclado">
        <strong><i>Usar radianos para trigonometria</i></strong>
        <br /><br />

        <div id="teclado-secao1">
          <div onclick="digitarRegra('i')">i</div>
          <div onclick="digitarRegra('j')">j</div>
          <div onclick="limparRegra()">C</div>
          <div onclick="apagarChar()">
            <img src="img/icon/delete_character.svg" width="30px" alt="X" />
          </div>

          <div onclick="digitarRegra('7')">7</div>
          <div onclick="digitarRegra('8')">8</div>
          <div onclick="digitarRegra('9')">9</div>
          <div onclick="digitarRegra('/')">&div;</div>

          <div onclick="digitarRegra('4')">4</div>
          <div onclick="digitarRegra('5')">5</div>
          <div onclick="digitarRegra('6')">6</div>
          <div onclick="digitarRegra('*')">&times;</div>

          <div onclick="digitarRegra('1')">1</div>
          <div onclick="digitarRegra('2')">2</div>
          <div onclick="digitarRegra('3')">3</div>
          <div onclick="digitarRegra('-')">&minus;</div>

          <div onclick="trocarTeclado(1)">&#8646;</div>
          <div onclick="digitarRegra('0')">0</div>
          <div onclick="digitarRegra('==', '=')">&equals;</div>
          <div onclick="digitarRegra('+')">&plus;</div>
        </div>

        <div id="teclado-secao2">
          <div onclick="digitarRegra('i')">i</div>
          <div onclick="digitarRegra('j')">j</div>
          <div onclick="limparRegra()">C</div>
          <div onclick="apagarChar()">
            <img src="img/icon/delete_character.svg" width="30px" alt="X" />
          </div>

          <div onclick="digitarRegra('>')">&gt;</div>
          <div onclick="digitarRegra('<')">&lt;</div>
          <div onclick="digitarRegra('Math.PI', 'π')">&pi;</div>
          <div onclick="digitarRegra('/')">&div;</div>

          <div onclick="digitarRegra('(')">&lpar;</div>
          <div onclick="digitarRegra(')')">&rpar;</div>
          <div onclick="digitarRegra('Math.E', 'e')">e</div>
          <div onclick="digitarRegra('*')">&times;</div>

          <div onclick="digitarRegra('Math.sin(', 'sen(')">sen</div>
          <div onclick="digitarRegra('Math.cos(', 'cos(')">cos</div>
          <div onclick="digitarRegra('Math.tan(', 'tg(')">tg</div>
          <div onclick="digitarRegra('-')">&minus;</div>

          <div onclick="trocarTeclado(0)">&#8646;</div>
          <div onclick="digitarRegra('0')">0</div>
          <div onclick="digitarRegra('==', '=')">&equals;</div>
          <div onclick="digitarRegra('+')">&plus;</div>
        </div>
      </div>

      <div id="bg-card-atalhos">
        <div id="card-atalhos">
          <div>
            <button onclick="toggleAtalhos()">X</button>
            <h1>Atalhos</h1>
          </div>

          <br />
          <hr />
          <div id="container-lista-atalhos">
            <h2>Símbolos</h2>
            <ul id="lista-atalhos-simbolos">
              <li>
                <button class="button-atalhos">p</button>
                - π
              </li>
              <li>
                <button class="button-atalhos">e</button>
                - e
              </li>
              <li>
                <button class="button-atalhos">s</button>
                - Seno
              </li>
              <li>
                <button class="button-atalhos">c</button>
                - Cosseno
              </li>
              <li>
                <button class="button-atalhos">t</button>
                - Tangente
              </li>
            </ul>
            <br />
            <hr />
            <h2>Comandos</h2>
            <ul id="lista-atalhos-comandos">
              <li>
                <button class="button-atalhos">Delete</button>
                - Limpar campo
              </li>
              <li>
                <button class="button-atalhos">
                  <img src="img/icon/backspace.png" width="120px" alt="X" />
                </button>
                - Apagar símbolo
              </li>
              <li>
                <button class="button-atalhos">←</button>
                <span>ou</span>
                <button class="button-atalhos">→</button>
                - Trocar teclado
              </li>
              <!-- <li>
                <button class="button-atalhos">/</button>
                - Criar Matriz
              </li> -->
              <li>
                <button class="button-atalhos">Esc</button>
                - Fechar último elemento
              </li>
              <li>
                <button class="button-atalhos">a</button>
                - Abrir/fechar atalhos
              </li>
            </ul>
          </div>
        </div>
      </div>
    </main>
    <footer>
      <div>
        <p>Repositório do projeto:</p>
        <a target="_blank" href="https://github.com/Felipe-Gabriel-Souza-Goncalves/criador-matriz">
          Criador-matriz
        </a>
      </div>
    </footer>

    <script src="js/geral.js"></script>
    <script src="js/matriz.js"></script>
    <script src="js/personalizar.js"></script>
    <script src="js/salvar.js"></script>
    <script src="js/regras.js"></script>
    <script src="js/teclado.js"></script>

    <script src="js/somaSubtracao.js"></script>
    <script src="js/multiplicacao.js"></script>
    <script src="js/determinante.js"></script>
  </body>
</html>
